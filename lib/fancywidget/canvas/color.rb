require "cairo"

module Kernel
  def rgb(r, g, b, a=1.0)
    def to_float(number)
      value = if number.is_a? Float then number
        elsif number.is_a? Integer then number/255.0 end      
      if (0.0..1.0).include?(value)
        value
      else
        raise ArgumentError, "color rgb value should be in [0.0, 1.0]: #{value.inspect}"
      end
    end
    Cairo::Color::RGB.new(to_float(r), to_float(g), to_float(b), to_float(a))
  end
  def gray(g, a=1.0)
    rgb(g, g, g, a)
  end

  def gradient(points, color_stops)
    pattern = Cairo::LinearPattern.new(points[0][0],points[0][1],points[1][0],points[1][1])
    color_stops.each do |offset, color|
      pattern.add_color_stop(offset, color)
    end
    pattern
  end

  def method_missing(name, *args)
    if FancyWidget::COLORS.has_key?(name.to_sym)
      return FancyWidget::COLORS[name.to_sym]
    else
      super
    end
  end
end

module FancyWidget
  COLORS = {}
  COLORS[:yellowgreen] = rgb(240, 248, 255)
  COLORS[:antiquewhite] = rgb(250, 235, 215)
  COLORS[:aqua] = rgb(0, 255, 255)
  COLORS[:aquamarine] = rgb(127, 255, 212)
  COLORS[:azure] = rgb(240, 255, 255)
  COLORS[:beige] = rgb(245, 245, 220)
  COLORS[:bisque] = rgb(255, 228, 196)
  COLORS[:black] = rgb(0, 0, 0)
  COLORS[:blanchedalmond] = rgb(255, 235, 205)
  COLORS[:blue] = rgb(0, 0, 255)
  COLORS[:blueviolet] = rgb(138, 43, 226)
  COLORS[:brown] = rgb(165, 42, 42)
  COLORS[:burlywood] = rgb(222, 184, 135)
  COLORS[:cadetblue] = rgb(95, 158, 160)
  COLORS[:chartreuse] = rgb(127, 255, 0)
  COLORS[:chocolate] = rgb(210, 105, 30)
  COLORS[:coral] = rgb(255, 127, 80)
  COLORS[:cornflowerblue] = rgb(100, 149, 237)
  COLORS[:cornsilk] = rgb(255, 248, 220)
  COLORS[:crimson] = rgb(220, 20, 60)
  COLORS[:cyan] = rgb(0, 255, 255)
  COLORS[:darkblue] = rgb(0, 0, 139)
  COLORS[:darkcyan] = rgb(0, 139, 139)
  COLORS[:darkgoldenrod] = rgb(184, 134, 11)
  COLORS[:darkgray] = rgb(169, 169, 169)
  COLORS[:darkgreen] = rgb(0, 100, 0)
  COLORS[:darkkhaki] = rgb(189, 183, 107)
  COLORS[:darkmagenta] = rgb(139, 0, 139)
  COLORS[:darkolivegreen] = rgb(85, 107, 47)
  COLORS[:darkorange] = rgb(255, 140, 0)
  COLORS[:darkorchid] = rgb(153, 50, 204)
  COLORS[:darkred] = rgb(139, 0, 0)
  COLORS[:darksalmon] = rgb(233, 150, 122)
  COLORS[:darkseagreen] = rgb(143, 188, 143)
  COLORS[:darkslateblue] = rgb(72, 61, 139)
  COLORS[:darkslategray] = rgb(47, 79, 79)
  COLORS[:darkturquoise] = rgb(0, 206, 209)
  COLORS[:darkviolet] = rgb(148, 0, 211)
  COLORS[:deeppink] = rgb(255, 20, 147)
  COLORS[:deepskyblue] = rgb(0, 191, 255)
  COLORS[:dimgray] = rgb(105, 105, 105)
  COLORS[:dodgerblue] = rgb(30, 144, 255)
  COLORS[:firebrick] = rgb(178, 34, 34)
  COLORS[:floralwhite] = rgb(255, 250, 240)
  COLORS[:forestgreen] = rgb(34, 139, 34)
  COLORS[:fuchsia] = rgb(255, 0, 255)
  COLORS[:gainsboro] = rgb(220, 220, 220)
  COLORS[:ghostwhite] = rgb(248, 248, 255)
  COLORS[:gold] = rgb(255, 215, 0)
  COLORS[:goldenrod] = rgb(218, 165, 32)
  COLORS[:gray] = rgb(128, 128, 128)
  COLORS[:green] = rgb(0, 128, 0)
  COLORS[:greenyellow] = rgb(173, 255, 47)
  COLORS[:honeydew] = rgb(240, 255, 240)
  COLORS[:hotpink] = rgb(255, 105, 180)
  COLORS[:indianred] = rgb(205, 92, 92)
  COLORS[:indigo] = rgb(75, 0, 130)
  COLORS[:ivory] = rgb(255, 255, 240)
  COLORS[:khaki] = rgb(240, 230, 140)
  COLORS[:lavender] = rgb(230, 230, 250)
  COLORS[:lavenderblush] = rgb(255, 240, 245)
  COLORS[:lawngreen] = rgb(124, 252, 0)
  COLORS[:lemonchiffon] = rgb(255, 250, 205)
  COLORS[:lightblue] = rgb(173, 216, 230)
  COLORS[:lightcoral] = rgb(240, 128, 128)
  COLORS[:lightcyan] = rgb(224, 255, 255)
  COLORS[:lightgoldenrodyellow] = rgb(250, 250, 210)
  COLORS[:lightgreen] = rgb(144, 238, 144)
  COLORS[:lightgrey] = rgb(211, 211, 211)
  COLORS[:lightpink] = rgb(255, 182, 193)
  COLORS[:lightsalmon] = rgb(255, 160, 122)
  COLORS[:lightseagreen] = rgb(32, 178, 170)
  COLORS[:lightskyblue] = rgb(135, 206, 250)
  COLORS[:lightslategray] = rgb(119, 136, 153)
  COLORS[:lightsteelblue] = rgb(176, 196, 222)
  COLORS[:lightyellow] = rgb(255, 255, 224)
  COLORS[:lime] = rgb(0, 255, 0)
  COLORS[:limegreen] = rgb(50, 205, 50)
  COLORS[:linen] = rgb(250, 240, 230)
  COLORS[:magenta] = rgb(255, 0, 255)
  COLORS[:maroon] = rgb(128, 0, 0)
  COLORS[:mediumaquamarine] = rgb(102, 205, 170)
  COLORS[:mediumblue] = rgb(0, 0, 205)
  COLORS[:mediumorchid] = rgb(186, 85, 211)
  COLORS[:mediumpurple] = rgb(147, 112, 219)
  COLORS[:mediumseagreen] = rgb(60, 179, 113)
  COLORS[:mediumslateblue] = rgb(123, 104, 238)
  COLORS[:mediumspringgreen] = rgb(0, 250, 154)
  COLORS[:mediumturquoise] = rgb(72, 209, 204)
  COLORS[:mediumvioletred] = rgb(199, 21, 133)
  COLORS[:midnightblue] = rgb(25, 25, 112)
  COLORS[:mintcream] = rgb(245, 255, 250)
  COLORS[:mistyrose] = rgb(255, 228, 225)
  COLORS[:moccasin] = rgb(255, 228, 181)
  COLORS[:navajowhite] = rgb(255, 222, 173)
  COLORS[:navy] = rgb(0, 0, 128)
  COLORS[:oldlace] = rgb(253, 245, 230)
  COLORS[:olive] = rgb(128, 128, 0)
  COLORS[:olivedrab] = rgb(107, 142, 35)
  COLORS[:orange] = rgb(255, 165, 0)
  COLORS[:orangered] = rgb(255, 69, 0)
  COLORS[:orchid] = rgb(218, 112, 214)
  COLORS[:palegoldenrod] = rgb(238, 232, 170)
  COLORS[:palegreen] = rgb(152, 251, 152)
  COLORS[:paleturquoise] = rgb(175, 238, 238)
  COLORS[:palevioletred] = rgb(219, 112, 147)
  COLORS[:papayawhip] = rgb(255, 239, 213)
  COLORS[:peachpuff] = rgb(255, 218, 185)
  COLORS[:peru] = rgb(205, 133, 63)
  COLORS[:pink] = rgb(255, 192, 203)
  COLORS[:plum] = rgb(221, 160, 221)
  COLORS[:powderblue] = rgb(176, 224, 230)
  COLORS[:purple] = rgb(128, 0, 128)
  COLORS[:red] = rgb(255, 0, 0)
  COLORS[:rosybrown] = rgb(188, 143, 143)
  COLORS[:royalblue] = rgb(65, 105, 225)
  COLORS[:saddlebrown] = rgb(139, 69, 19)
  COLORS[:salmon] = rgb(250, 128, 114)
  COLORS[:sandybrown] = rgb(244, 164, 96)
  COLORS[:seagreen] = rgb(46, 139, 87)
  COLORS[:seashell] = rgb(255, 245, 238)
  COLORS[:sienna] = rgb(160, 82, 45)
  COLORS[:silver] = rgb(192, 192, 192)
  COLORS[:skyblue] = rgb(135, 206, 235)
  COLORS[:slateblue] = rgb(106, 90, 205)
  COLORS[:slategray] = rgb(112, 128, 144)
  COLORS[:snow] = rgb(255, 250, 250)
  COLORS[:springgreen] = rgb(0, 255, 127)
  COLORS[:steelblue] = rgb(70, 130, 180)
  COLORS[:tan] = rgb(210, 180, 140)
  COLORS[:teal] = rgb(0, 128, 128)
  COLORS[:thistle] = rgb(216, 191, 216)
  COLORS[:tomato] = rgb(255, 99, 71)
  COLORS[:turquoise] = rgb(64, 224, 208)
  COLORS[:violet] = rgb(238, 130, 238)
  COLORS[:wheat] = rgb(245, 222, 179)
  COLORS[:white] = rgb(255, 255, 255)
  COLORS[:whitesmoke] = rgb(245, 245, 245)
  COLORS[:yellow] = rgb(255, 255, 0)
  COLORS[:yellowgreen] = rgb(154, 205, 50)
end